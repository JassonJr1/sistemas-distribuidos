<!DOCTYPE html>
<html>
<head>
    <script src="C:\Users\junio\OneDrive\Área de Trabalho\Faculdade\Sistemas Distribuidos\trabalho final\axios.js"></script>
    <title>Formulário de Produto</title>
    <style>
        label {
            display: block;
            margin-top: 10px;
        }
    </style>
</head>
<body>
    <h1>Formulário de Produto</h1>
    <form id="productForm">
        <label for="name">Nome:</label>
        <input type="text" id="name" required>
        
        <label for="description">Descrição:</label>
        <textarea id="description" rows="4" required></textarea>
        
        <label for="category">Categoria:</label>
        <input type="text" id="category" required>
        
        <label for="model">Modelo:</label>
        <input type="text" id="model" required>
        
        <label for="price">Preço:</label>
        <input type="number" step="0.01" id="price" required>
        
        <button type="submit">Salvar</button>
    </form>

    <script>
        document.getElementById('productForm').addEventListener('submit', function(event) {
            event.preventDefault(); // Impede o envio do formulário
            
            // Cria um objeto JSON com os valores do formulário
            var product = {
                name: document.getElementById('name').value,
                description: document.getElementById('description').value,
                category: document.getElementById('category').value,
                model: document.getElementById('model').value,
                price: parseFloat(document.getElementById('price').value)
            };
            
            // Envia o objeto JSON para o backend usando o Axios
            axios.post('/api/products', product)
                .then(function(response) {
                    console.log(response.data); // Exibe a resposta do backend
                    // Limpa o formulário
                    document.getElementById('productForm').reset();
                })
                .catch(function(error) {
                    console.error(error);
                });
        });
    </script>    
</body>
</html>
